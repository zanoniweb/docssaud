<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de QR Code Pix</title>
    
    <style>

/* style.css */
/* Reset básico e configurações globais */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Cores principais */
    --primary-color: #004080; /* Azul escuro para navbar */
    --accent-color: #28a745; /* Verde para botões e títulos de atestado */
    --accent-dark-color: #1e7e34; /* Verde mais escuro para hover */
    --text-color: #333;
    --light-text-color: #555;
    --background-color: #f4f4f4;
    --container-bg-color: #fff;
    --section-bg-color: #f9f9f9;
    --border-color: #ccc;
    --light-border-color: #ddd;

    /* Fontes */
    --font-family-main: 'Arial', sans-serif;
    --font-family-document: 'Times New Roman', serif;

    /* Tamanhos de fonte */
    --font-size-base: 1rem; /* 16px */
    --font-size-sm: 0.9rem; /* 14.4px */
    --font-size-md: 1.1rem; /* 17.6px */
    --font-size-lg: 1.6rem; /* 25.6px - para logo */
    --font-size-xl: 2em; /* Para ícones */
    --font-size-h1: 1.8rem; /* Para h1 do container */
    --font-size-h2: 1.5rem; /* Para h2 do form-section */
    --font-size-notification-title: 1.8rem; /* Para título do PDF */
    --font-size-document-base: 12pt; /* Para texto do PDF */
    --font-size-document-title: 16pt; /* Para título do PDF */

    /* Espaçamentos */
    --spacing-xs: 8px;
    --spacing-sm: 10px;
    --spacing-md: 15px;
    --spacing-lg: 20px;
    --spacing-xl: 30px;
    --spacing-xxl: 40px;
}

/* Body e Layout Geral */
body {
    font-family: var(--font-family-main);
    line-height: 1.6;
    margin: 0;
    padding-top: 80px;
    background-color: var(--background-color);
    color: var(--text-color);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* Container principal do formulário */
.container {
    max-width: 800px;
    width: 95%;
    margin: var(--spacing-lg) auto;
    padding: var(--spacing-xl);
    background-color: var(--container-bg-color);
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

h1 {
    text-align: center;
    color: var(--accent-dark-color);
    margin-bottom: var(--spacing-xl);
    font-size: var(--font-size-h1);
}

/* Seções do Formulário */
.form-section {
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-md);
    border: 1px solid var(--light-border-color);
    border-radius: 5px;
    background-color: var(--section-bg-color);
}

.form-section h2 {
    color: var(--accent-dark-color);
    margin-top: 0;
    margin-bottom: var(--spacing-md);
    border-bottom: 2px solid #eee;
    padding-bottom: var(--spacing-xs);
    font-size: var(--font-size-h2);
}

label {
    display: block;
    margin-bottom: var(--spacing-xs);
    font-weight: bold;
    color: var(--light-text-color);
    cursor: pointer;
}

input[type="text"],
input[type="number"] {
    width: 100%;
    padding: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: var(--font-size-base);
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

input[type="text"]:focus,
input[type="number"]:focus {
    border-color: var(--accent-color);
    outline: none;
    box-shadow: 0 0 5px rgba(var(--accent-color), 0.25);
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

button {
    display: block;
    width: 100%;
    padding: var(--spacing-md);
    background-color: var(--accent-color);
    color: white;
    border: none;
    border-radius: 5px;
    font-size: var(--font-size-md);
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.1s ease;
    margin-top: var(--spacing-lg);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

button:hover {
    background-color: var(--accent-dark-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

button:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

hr {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));
    margin: var(--spacing-xl) 0;
}

/* Estilos do Menu de Navegação */
.navbar {
    background-color: var(--primary-color);
    color: white;
    padding: var(--spacing-lg) var(--spacing-xl);
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
}

.logo p {
    color: white;
    font-size: var(--font-size-lg);
    font-weight: bold;
}

.menu ul {
    list-style: none;
    display: flex;
    gap: 50px;
}

.menu ul li a {
    color: white;
    text-decoration: none;
    font-size: var(--font-size-md);
    transition: color 0.3s, background-color 0.3s;
    padding: var(--spacing-xs) 0;
    display: block;
}

.menu ul li a:hover,
.menu ul li a:focus {
    color: #ffd700;
    outline: none;
}

.menu-icon {
    font-size: var(--font-size-xl);
    display: none;
    cursor: pointer;
    color: white;
    outline: 2px solid transparent;
    outline-offset: 4px;
    transition: outline-color 0.3s ease;
}
.menu-icon:focus {
    outline-color: #ffd700;
}

.menu-toggle {
    display: none;
}

@media (max-width: 768px) {
    body {
        padding-top: 65px;
    }
    .navbar {
        padding: var(--spacing-md) var(--spacing-lg);
    }
    .logo p {
        font-size: 1.4em;
    }
    .menu ul {
        flex-direction: column;
        position: absolute;
        top: 65px;
        left: 0;
        background-color: var(--primary-color);
        width: 100%;
        display: none;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        gap: 0;
        max-height: calc(100vh - 65px);
        overflow-y: auto;
    }
    .menu ul li {
        padding: var(--spacing-md) var(--spacing-xl);
        border-top: 1px solid rgba(255, 255, 255, 0.2);
    }
    .menu ul li:first-child {
        border-top: none;
    }
    .menu-icon {
        display: block;
    }
    .menu-toggle:checked + .menu-icon + .menu ul {
        display: flex;
    }
    .container {
        padding: var(--spacing-lg);
        margin: var(--spacing-lg) auto;
    }
    h1 {
        font-size: 1.5rem;
        margin-bottom: var(--spacing-lg);
    }
    .form-section h2 {
        font-size: 1.3rem;
        margin-bottom: var(--spacing-md);
    }
    input[type="text"],
    input[type="number"] {
        font-size: var(--font-size-base);
        padding: var(--spacing-sm);
    }
    button {
        font-size: var(--font-size-base);
        padding: var(--spacing-sm);
    }
}

@media (max-width: 480px) {
    .navbar {
        padding: var(--spacing-sm) var(--spacing-md);
    }
    .logo p {
        font-size: 1.2em;
    }
    .menu ul {
        top: 55px;
        max-height: calc(100vh - 55px);
    }
    .menu ul li {
        padding: var(--spacing-md) var(--spacing-lg);
    }
    .container {
        padding: var(--spacing-md);
        margin: var(--spacing-lg) auto;
    }
    h1 {
        font-size: 1.3rem;
    }
    .form-section h2 {
        font-size: 1.2rem;
    }
}

/* Estilos para o QR Code e PDF */
.printable-area {
    padding-top: var(--spacing-lg);
}

#qrcode-container {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--spacing-md);
    margin-top: var(--spacing-lg);
    border: 4px solid var(--accent-color);
    border-radius: 8px;
    display: none; /* Escondido por padrão */
}

#qrcode-container canvas {
    max-width: 100%;
    height: auto;
}

#info-container {
    margin-top: var(--spacing-md);
    text-align: center;
}

.hidden {
    display: none !important;
}

.instrucao {
    margin-top: var(--spacing-sm);
    color: var(--light-text-color);
    font-size: var(--font-size-sm);
}
    </style>
</head>
<body>
    <header class="navbar">
        <div class="logo">
            <p>S. G. D. C. & H.</p>
        </div>

        <input type="checkbox" id="menu-toggle" class="menu-toggle">
        <label for="menu-toggle" class="menu-icon" aria-label="Abrir Menu">&#9776;</label>

       <nav class="menu">
        <ul>
            <li><a href="geracaodocumentosfinanceiro.html">Voltar Geração de Documentos</a></li>
            <li><a href="index.html">Sair</a></li>
        </ul>
    </nav>
    </header>


    <div class="container">
        <h1>Gerar QR Code Pix</h1>
        
        <div class="form-group">
            <label for="chavePix">Chave Pix:</label>
            <input type="text" id="chavePix" placeholder="Telefone, e-mail, CPF ou CNPJ">
        </div>
        
        <div class="form-group">
            <label for="valorPix">Valor (R$):</label>
            <input type="number" id="valorPix" placeholder="0,00" min="0" step="0.01">
        </div>

        <button id="gerarQR">Gerar QR Code</button>

        <div class="printable-area" id="printable-area">
            <div id="qrcode-container">
                </div>
            <div id="info-container" class="hidden">
                <p><strong>Chave Pix:</strong> <span id="chave-display"></span></p>
                <p><strong>Valor:</strong> <span id="valor-display"></span></p>
                <p class="instrucao">Aponte a câmera do seu celular para o QR Code para pagar.</p>
            </div>
        </div>

        <button id="salvarPDF" class="hidden">Salvar em PDF</button>
    </div>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    
    <script>
        // script.js
        const gerarQRBtn = document.getElementById('gerarQR');
        const salvarPDFBtn = document.getElementById('salvarPDF');
        const qrcodeContainer = document.getElementById('qrcode-container');
        const infoContainer = document.getElementById('info-container');
        const chaveDisplay = document.getElementById('chave-display');
        const valorDisplay = document.getElementById('valor-display');

        // Oculta o botão de salvar PDF e o contêiner de informações por padrão
        salvarPDFBtn.classList.add('hidden');
        qrcodeContainer.style.display = 'none'; // Use style para manipular o display
        infoContainer.classList.add('hidden');

        // Evento para gerar o QR Code
        gerarQRBtn.addEventListener('click', function() {
            const chavePix = document.getElementById('chavePix').value.trim();
            let valorPix = document.getElementById('valorPix').value.trim();

            if (chavePix === '') {
                alert('Por favor, insira a chave Pix.');
                return;
            }
            
            // Valida o valor
            valorPix = parseFloat(valorPix).toFixed(2);
            if (isNaN(valorPix) || valorPix <= 0) {
                alert('Por favor, insira um valor válido (maior que zero).');
                return;
            }

            // Atualiza as informações na tela
            chaveDisplay.textContent = chavePix;
            valorDisplay.textContent = `R$ ${valorPix.replace('.', ',')}`;

            // Limpa o contêiner do QR Code antes de gerar um novo
            qrcodeContainer.innerHTML = '';
            
            // Constrói a string de pagamento Pix (URL simples para demonstração)
            const pixString = `pix://?pixkey=${chavePix}&value=${valorPix}`;

            // Gera o QR Code
            new QRCode(qrcodeContainer, {
                text: pixString,
                width: 256,
                height: 256,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });

            // Mostra o QR Code e o botão de salvar PDF
            qrcodeContainer.style.display = 'flex';
            infoContainer.classList.remove('hidden');
            salvarPDFBtn.classList.remove('hidden');
        });

        // Evento para salvar o QR Code em PDF
        salvarPDFBtn.addEventListener('click', function() {
            const element = document.getElementById('printable-area');

            // Opções de configuração para o PDF
            const opt = {
                margin: [20, 10, 20, 10],
                filename: 'pagamento-pix.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            // Gera o PDF a partir do elemento HTML e salva
            html2pdf().set(opt).from(element).save();
        });
    </script>
    
</body>
</html>